{"version":3,"file":"Vue.js","sources":["../src/observe/index.js","../src/initState.js","../src/init.js","../src/index.js"],"sourcesContent":["function observer(data) {\r\n\t// 如果data不是对象就直接返回\r\n\tif (typeof data !== 'object' || data === null) {\r\n\t\treturn data\r\n\t}\r\n\t// 否则的话对这个data进行响应式处理\r\n\treturn new Observer(data)\r\n}\r\nclass Observer {\r\n\tconstructor(data) {\r\n\t\t// 遍历data\r\n\t\tthis.walk(data)\r\n\t}\r\n\twalk(data) {\r\n\t\tlet keys = Object.keys(data)\r\n\t\tfor (let i = 0; i < keys.length; i++) {\r\n\t\t\tlet key = keys[i]\r\n\t\t\tlet value = data[key]\r\n\t\t\t// 对对象的每一项劫持\r\n\t\t\tdefineReactive(data, key, value)\r\n\t\t}\r\n\t}\r\n}\r\nfunction defineReactive(data, key, value) {\r\n\t// 递归遍历 \r\n\tobserver(value)\r\n\tObject.defineProperty(data, key, {\r\n\t\tget() {\r\n\t\t\treturn value\r\n\t\t},\r\n\t\tset(newValue) {\r\n\t\t\tif (newValue === value) return\r\n\t\t\tobserver(newValue)\r\n\t\t\tvalue = newValue\r\n\t\t}\r\n\t})\r\n}\r\nexport { observer }","import { observer } from './observe/index'\r\nexport function initState(vm) {\r\n\tlet opt = vm.$options\r\n\tif (opt.props) {\r\n\t\tinitProps(vm)\r\n\t}\r\n\tif (opt.data) {\r\n\t\tinitData(vm)\r\n\t}\r\n}\r\nfunction initProps(vm) {\r\n\r\n}\r\nfunction initData(vm) {\r\n\tlet data = vm.$options.data\r\n\tdata = vm._data = typeof data === 'function' ? data.call(vm) : data\r\n\tconsole.log(vm);\r\n\t// 观察者监听data数据\r\n\tobserver(data)\r\n}","import { initState } from './initState'\r\nexport function initMixin(Vue) {\r\n\tVue.prototype._init = function (options) {\r\n\t\tconsole.log('options', options)\r\n\t\tlet vm = this\r\n\t\tvm.$options = options\r\n\t\tinitState(vm)\r\n\t}\r\n}","import { initMixin } from './init'\r\nfunction Vue(options) {\r\n\tconsole.log('vue')\r\n\tthis._init(options)\r\n}\r\ninitMixin(Vue)\r\nexport default Vue"],"names":["observer","data","_typeof","Observer","_classCallCheck","walk","_createClass","key","value","keys","Object","i","length","defineReactive","defineProperty","get","set","newValue","initState","vm","opt","$options","props","initData","_data","call","console","log","initMixin","Vue","prototype","_init","options"],"mappings":"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"}